---
title: "解决ssh上传公钥到服务器仍需输入密码的问题"
author: William
date: 2019-12-02
lastmod: 2019-12-02
categories: [Programming]
tags: [ssh,密码,git]
description: 为了保证安装，我们通常使用公钥登录的方式，可以避免输入密码。但是如果权限管理不正确，即使上传了本地公钥后，ssh 登录连接仍然提示需要输入密码。
draft: false
ToC: false
---



<p>为了保证安装，我们通常使用公钥登录的方式，可以避免输入密码。但是如果权限管理不正确，即使上传了本地公钥后，ssh 登录连接仍然提示需要输入密码。</p>
<p>这主要是因为权限设置的问题。参考链接：<a href="https://ruby-china.org/topics/14182">SSH 上传公钥到服务器后还需要密码</a>。</p>
<blockquote>
<p>貌似是.ssh目录和authorized的权限不对，ssh -vvT <a href="mailto:git@serverip时出现了">git@serverip时出现了</a>：ignored authorized_keys bad ownership or modes for directory。然后google搜答案.将.ssh的权限改为700,authorized_keys权限改为600即可。</p>
</blockquote>
<pre class="bash"><code>cd ~/
mkdir .ssh
chmod 700 .ssh

## touch .ssh/authorized_keys
chmod 600 .ssh/authorized_keys </code></pre>
